{% extends "admin/base_site.html" %}
{% load i18n static %}

{% block bodyclass %}{{ block.super }} login{% endblock %}

{% block usertools %}{% endblock %}

{% block nav-global %}{% endblock %}

{% block content_title %}{% endblock %}

{% block extrastyle %}
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
{% endblock %}

{% block content %}
    <style>
        .w3-card-4 {
          margin-bottom: 1%;
        }
        table {
            width:100%;
        }
        tbody{
            width: 100%;
            display: table;
        }
        .label {
            color: white;
            padding: 2px;
            font-weight: bold;
            font-size: medium;
            border-radius: 5px;
        }
    </style>

    {% if form.errors and not form.non_field_errors %}
        <p class="errornote">
            {% if form.errors.items|length == 1 %}{% trans "Please correct the error below." %}{% else %}{% trans "Please correct the errors below." %}{% endif %}
        </p>
    {% endif %}

    {% if form.non_field_errors %}
        {% for error in form.non_field_errors %}
            <p class="errornote">
                {{ error }}
            </p>
        {% endfor %}
    {% endif %}

    <div id="content-main">
        <h2 style="text-align:center; color: black">Ingreso</h2>
        <div class="w3-card-4" style="width:25%;margin-left:auto;margin-right:auto;">
            <div class="w3-container" style="padding: 3%">
                <form action="{{ app_path }}" method="post" id="login-form">{% csrf_token %}

                  <div>
                      <table>
                          <tr>
                              <td style="border: none">Usuario:</td>
                              <td style="border: none">{{ form.username.errors }}</td>
                          </tr>
                          <tr>
                              <td style="border: none">{{ form.username }}</td>
                          </tr>
                      </table>
                  </div>

                  <div>
                      <table>
                          <tr>
                              <td style="border: none">{{ form.password.label_tag }}</td>
                              <td style="border: none">{{ form.password.errors }}</td>
                          </tr>
                          <tr>
                              <td style="border: none">{{ form.password }}</td>
                          </tr>
                      </table>

                    <input type="hidden" name="next" value="{{ next }}" />
                  </div>

                  {% url 'admin_password_reset' as password_reset_url %}

                  {% if password_reset_url %}
                      <div class="password-reset-link">
                        <a href="{{ password_reset_url }}">{% trans 'Forgotten your password or username?' %}</a>
                      </div>
                  {% endif %}

                  <div class="submit-row" style="width: 30%;margin-left:auto;margin-right:auto;padding-top: 2%">
                    <input type="submit" value="{% trans 'Log in' %}" />
                  </div>
                    <br>
                  <div>
                      <table style="width: 60%;margin-left:auto;margin-right:auto">
                          <tr>
                              <td>Â¿No es usuario?</td>
                              <td>
                                  <a href="/admin/sistema/signup/" class="pull-right"><strong>Registrarme <i class="fa fa-external-link"></i></strong></a>
                              </td>
                          </tr>
                      </table>
                  </div>

                </form>

            </div>
        </div>

        <script type="text/javascript">
        document.getElementById('id_username').focus()

        </script>
    </div>
{% endblock %}
